{"version":3,"sources":["webpack:///webpack/bootstrap 3232495c0c4515cf7b2f","webpack:///./js/circle.js","webpack:///./js/canvas.js","webpack:///./js/main.js","webpack:///./js/set.js","webpack:///./js/fullscreen.js","webpack:///./js/mouse.js","webpack:///./js/colors.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;AC7DA;;AAEuB;AACT;AACC;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChLA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;;;;;;AC5BD;;AAEA;AACA;;;;;;;;;;ACHA;;AAE2C;AAC3B;;AAEhB;AACA;AACA;AACA;;AAEA;;AAEA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,EAAE;AACF,CAAC;;AAED;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,EAAE;AACF,C;;;;;;;;;ACzFA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,C;;;;;;;;;ACpBA;;AAEe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;AAGD;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,CAAC;;AAED;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACzFA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3232495c0c4515cf7b2f","\"use strict\";\n\nimport {canvas, ctx, c} from './canvas.js';\nimport {touch} from './mouse.js';\nimport {colors} from './colors.js';\n\nexport let options = {\n\tcolor: null,\n\tradius: 50,\n\tspeedDetect: 0.09,\n\tfrictionWall: 0.9,\n\tfriction: 0.995,\n\tgravity: 1,\n\tmaxKx: 50,\n\tmaxKy: 50\n};\n\nlet circle = {\n\tp: 0, // potontsialny energy\n\tx: null,\n\ty: null,\n\tkx: 0,\n\tky: -9,\n};\n\n// Стартовое положение круга\ncircle.x = c.w*0.5;\ncircle.y = c.h*0.5;\n\n\nctx.lineWidth = 2;\n\nlet draw = () => {\n\tif (touch.down) {\n\t\tcircle.kx = touch.dx*options.speedDetect;\n\t\tcircle.ky = touch.dy*options.speedDetect;\n\t}\n\n\t// Ограничение скорости\n\tif (circle.kx > options.maxKx)\n\t\tcircle.kx = options.maxKx;\n\tif (circle.ky > options.maxKy)\n\t\tcircle.ky = options.maxKy;\n\n\t// Движение по вектору\n\tcircle.x += circle.kx;\n\tcircle.y += circle.ky;\n\n\t// Соприкосновение\n\tlet wall = {\n\t\tleft: false,\n\t\ttop: false,\n\t\tbottom: false,\n\t\tright: false\n\t};\n\n\tlet k = -circle.p < 20? 0.5*circle.p*options.radius/50 + 1 : -10*options.radius/50 + 1;\n\t// стены\n\n\t// right\n\tif (circle.x > c.w - options.radius -k + 1) {\n\t\tcircle.kx = -circle.kx*options.frictionWall;\n\t\tcircle.x = c.w-options.radius -k;\n\t\tcircle.p = circle.kx;\n\t\twall.right = true;\n\t}\n\t// left\n\telse if (circle.x < options.radius + k) {\n\t\tcircle.kx = -circle.kx*options.frictionWall;\n\t\tcircle.x = options.radius + k\n\t\tcircle.p = -circle.kx;\n\t\twall.left = true;\n\t}\n\t// top\n\tif (circle.y < options.radius + k - 1) {\n\t\tcircle.ky = -circle.ky*options.frictionWall;\n\t\tcircle.y = options.radius + k;\n\t\tcircle.p = -circle.ky;\n\t\twall.top = true;\n\t}\n\t// bottom\n\telse if (circle.y + options.radius - 1 >  c.h -k) {\n\t\tcircle.ky = -circle.ky*options.frictionWall;\n\t\tcircle.y = c.h-options.radius - k;\n\t\tcircle.p = circle.ky;\n\t\twall.bottom = true;\n\t}\n\n\t// Востановление круга после удара\n\tif (circle.p < 0) {\n\t\tcircle.p++;\n\t}\n\tif (circle.p < 0) {\n\t\tcircle.p++;\n\t}\n\n\t// Некоторые замены круга\n\n\t/*ctx.moveTo(circle.x, circle.y - options.radius);\n\n\tctx.quadraticCurveTo(circle.x + options.radius, circle.y - options.radius, circle.x + options.radius, circle.y);\n\tctx.quadraticCurveTo(circle.x + options.radius, circle.y + options.radius, circle.x, circle.y + options.radius);\n\tctx.quadraticCurveTo(circle.x - options.radius, circle.y + options.radius, circle.x - options.radius, circle.y);\n\tctx.quadraticCurveTo(circle.x - options.radius, circle.y - options.radius, circle.x, circle.y - options.radius);\n\t*/\n\n\t/* people\n\tctx.moveTo(circle.x, circle.y - options.radius);\n\n\tctx.bezierCurveTo(circle.x + options.radius*0.5, circle.y - options.radius, circle.x + options.radius, circle.y - options.radius*0.5 ,circle.x + options.radius, circle.y);\n\tctx.bezierCurveTo(circle.x + options.radius*0.5, circle.y - options.radius, circle.x + options.radius, circle.y - options.radius*0.5 ,circle.x, circle.y + options.radius);\n\tctx.bezierCurveTo(circle.x + options.radius*0.5, circle.y - options.radius, circle.x + options.radius, circle.y - options.radius*0.5 ,circle.x - options.radius, circle.y);\n\tctx.bezierCurveTo(circle.x + options.radius*0.5, circle.y - options.radius, circle.x + options.radius, circle.y - options.radius*0.5 ,circle.x, circle.y - options.radius);\n\t*/\n\n\t// круг, упругость\n\tlet compression = {\n\t\tleft: 0.58,\n\t\ttop: 0.58,\n\t\tright: 0.58,\n\t\tbottom: 0.58\n\t}\n\n\t// Если удар об стену, то двигаем точки безье\n\t// Доработать алгоритм.\n\tvar l = -circle.p < 20? 0.58 + circle.p/52 : 0.2;\n\n\tif (wall.left) compression.left = l;\n\telse if (wall.right) compression.right = l;\n\n\tif (wall.top) compression.top = l;\n\telse if (wall.bottom) compression.bottom = l;\n\n\tctx.save();\n\n\tctx.translate(circle.x, circle.y);\n\tctx.rotate(Math.PI/180*45);\n\n\t// color\n\tlet gr1 = ctx.createRadialGradient(0, 0, 50, 0, 0, 0);\n\tgr1.addColorStop(0, colors.gr_one);\n\tgr1.addColorStop(1, colors.gr_two);\n\n\t// Градиент, если не задан цвет в настройках\n\tctx.fillStyle = options.color? options.color : gr1;\n\n\tctx.beginPath();\n\tctx.moveTo(0, -options.radius);\n\n\t// Доработать точки\n\t/* right */  ctx.bezierCurveTo(options.radius*compression.right, -options.radius, options.radius, -options.radius*compression.right, options.radius, 0);\n\t/* bottom */ ctx.bezierCurveTo(options.radius, options.radius*compression.bottom, options.radius*compression.bottom, options.radius, 0, options.radius);\n\t/* left */   ctx.bezierCurveTo(-options.radius*compression.left, options.radius, -options.radius, options.radius*compression.left, -options.radius, 0);\n\t/* top */    ctx.bezierCurveTo(-options.radius, -options.radius*compression.top, -options.radius*compression.top, -options.radius, 0, -options.radius);\n\n\tctx.fill();\n\tctx.restore();\n\n\t// постоянное трение об \"воздух\"\n\tif (Math.abs(circle.kx + circle.ky) > 0.001) {\n\t\tcircle.kx *= options.friction;\n\t\tcircle.ky += options.gravity;\n\t\tcircle.ky *= options.friction;\n\t}\n};\n\nlet clearCanvas = () => {\n\tctx.clearRect(0, 0, c.w, c.h);\n};\n\nlet animation = () => {\n\tclearCanvas();\n\tdraw();\n\trequestAnimationFrame(animation);\n};\n\nrequestAnimationFrame(animation);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/circle.js\n// module id = 0\n// module chunks = 0","\"use strict\";\r\n\r\nexport let canvas = document.createElement(\"canvas\");\r\n\r\ncanvas.width = innerWidth;\r\ncanvas.height = innerHeight;\r\n\r\ncanvas.id = \"canvas\";\r\n\r\nexport let ctx = canvas.getContext(\"2d\");\r\n\r\ndocument.body.appendChild(canvas);\r\n\r\nexport let c = {\r\n  w: 0,\r\n  h: 0\r\n}\r\n\r\nc.w = canvas.width;\r\nc.h = canvas.height;\r\n\r\n// При изменении окна подогнать canvas\r\naddEventListener(\"resize\", () => {\r\n  c.w = innerWidth;\r\n  c.h = innerHeight;\r\n\r\n  canvas.width = c.w;\r\n  canvas.height = c.h;\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/canvas.js\n// module id = 1\n// module chunks = 0","\"use strict\";\n\nimport './set';\nimport './circle';\nimport './test'\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/main.js\n// module id = 2\n// module chunks = 0","\"use strict\";\n\nimport {launchFullScreen, cancelFullscreen} from './fullscreen.js';\nimport {options} from './circle.js';\n\nlet set = document.getElementById(\"set\");\nlet send = document.getElementById(\"send\");\nlet fullscreen = document.getElementById(\"fullscreen\");\nlet warning = document.getElementById(\"warning\");\n\nlet isFullScreen = false;\n\nlet animTiming = 400; // ms\nlet isOpenSettings = false;\n\nlet openSettings = () => {\n\tset.className = \"btn open\";\n\tsettings.className = \"open\";\n\tsettings.style.display = \"block\";\n\tisOpenSettings = true;\n\tsetTimeout(() => {\n\t\tset.innerHTML = \"Закрыть\";\n\t}, animTiming);\n};\n\nlet closeSettings = () => {\n\tset.className = \"btn close\";\n\tsettings.className = \"close\";\n\tsetTimeout(() => {\n\t\tsettings.style.display = \"none\";\n\t\tisOpenSettings = false;\n\t\tset.innerHTML = \"настройки\";\n\t}, animTiming);\n};\n// Открывать настройки по клику на #set\nset.addEventListener(\"click\", () => {\n\tif (!isOpenSettings)\n\t\topenSettings();\n\telse \n\t\tcloseSettings();\n});\n\n// по клику пл кнопке \"Применить\" активировать низменения\nsend.addEventListener(\"click\", () => {\n\n\tlet form = document.forms.settings;\n\n\tcanvas.style.backgroundColor = form[\"back-color\"].value;\n\n\toptions.color = ~form.color.value.indexOf(\"#ffa000\") ? null : form.color.value;\n\toptions.radius = +form.radius.value;\n\toptions.speedDetect = +form.speedDetect.value;\n\toptions.frictionWall = +form.frictionWall.value;\n\t\n\toptions.friction = +form.friction.value;\n\n\tcloseSettings();\n});\n\n// Обработка клика по \"fullscreen\"\nfullscreen.addEventListener(\"click\", () => {\n\tif(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement || null) {\n\t\tcancelFullscreen(document.documentElement);\n\t\tfullscreen.innerHTML = \"Полноэкранный режим\";\n\t} else {\n\t\ttry {\n\t\t\tlaunchFullScreen(document.documentElement);\n\t\t\tfullscreen.innerHTML = \"Обычный режим!\";\n\t\t} catch(ex) {\n\t\t\talert(\"Полноэкранный режим не поддерживается..\")\n\t\t}\n\t}\n});\n\nwarning.addEventListener(\"click\", function () {\n\twarning.className = \"warning close\";\n\tsetTimeout(function() {\n\t\twarning.style.display = \"none\";\n\t}, 500);\n});\n\n// Поведение карт настроек\nlet labels = document.getElementsByTagName(\"label\");\nfor (var i = 0; i < labels.length; i++) {\n\tlabels[i].addEventListener(\"keyup\", (e) => {\n\t\tif (e.keyCode == 13 || e.keyCode == 27) {\n\t\t\te.target.blur();\n\t\t}\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/set.js\n// module id = 3\n// module chunks = 0","\"use strict\";\n\nexport function launchFullScreen(element) {\n\tif(element.requestFullScreen) {\n\t\telement.requestFullScreen();\n\t} else if(element.mozRequestFullScreen) {\n\t\telement.mozRequestFullScreen();\n\t} else if(element.webkitRequestFullScreen) {\n\t\telement.webkitRequestFullScreen();\n\t}\n}\n// Выход из полноэкранного режима\nexport function cancelFullscreen() {\n\tif(document.cancelFullScreen) {\n\t\tdocument.cancelFullScreen();\n\t} else if(document.mozCancelFullScreen) {\n\t\tdocument.mozCancelFullScreen();\n\t} else if(document.webkitCancelFullScreen) {\n\t\tdocument.webkitCancelFullScreen();\n\t}\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/fullscreen.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n\nimport {canvas} from './canvas.js';\n\nexport let touch = {\n\t\txS: 0,\n\t\tyS: 0,\n\t\txM: 0,\n\t\tyM: 0,\n\t\txE: 0,\n\t\tyE: 0,\n\t\tdx: 0,\n\t\tdy: 0,\n\t\tdxs: 0,\n\t\tdys: 0,\n\t\tdxsE: 0,\n\t\tdysE: 0,\n\t\tdown: false\n};\n\ncanvas.addEventListener(\"mousedown\", (e) => {\n\n\te.preventDefault();\n\n\ttouch.xS = parseInt(e.clientX);\n\ttouch.yS = parseInt(e.clientY);\n\n\ttouch.down = true;\n});\n\ncanvas.addEventListener(\"mousemove\", (e) => {\n\n\te.preventDefault();\n\n\ttouch.xM = e.clientX;\n\ttouch.yM = e.clientY;\n\n\tif (touch.down) {\n\t\ttouch.dx = touch.xM - touch.xS;\n\t\ttouch.dy = touch.yM - touch.yS;\n\n\t\ttouch.dxs = touch.dxsE + touch.dx;\n\t\ttouch.dys = touch.dysE + touch.dy;\n\t}\n});\n\n\ncanvas.addEventListener(\"touchstart\", (e) => {\n\n\te.preventDefault();\n\n\ttouch.xS = parseInt(e.touches[0].clientX);\n\ttouch.yS = parseInt(e.touches[0].clientY);\n\n\ttouch.down = true;\n});\n\ncanvas.addEventListener(\"touchmove\", (e) => {\n\n\te.preventDefault();\n\n\ttouch.xM = parseInt(e.touches[0].clientX);\n\ttouch.yM = parseInt(e.touches[0].clientY);\n\n\ttouch.dx = touch.xM - touch.xS;\n\ttouch.dy = touch.yM - touch.yS;\n\n\ttouch.dxs = touch.dxsE + touch.dx;\n\ttouch.dys = touch.dysE + touch.dy;\n\n});\n\nlet handleEnd = (e) => {\n\n\te.preventDefault();\n\n\ttouch.xE = touch.xM;\n\ttouch.yE = touch.yM;\n\n\ttouch.dxsE = touch.dxs;\n\ttouch.dysE = touch.dys;\n\n\ttouch.down = false;\n\n\ttouch.dx = 0;\n\ttouch.dy = 0;\n}\n\ncanvas.addEventListener(\"touchend\", handleEnd);\ncanvas.addEventListener(\"mouseup\", handleEnd);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/mouse.js\n// module id = 5\n// module chunks = 0","export let colors = {\n\tgr_one: \"#FFD54F\",\n\tgr_two: \"#FFA000\"\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/colors.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}